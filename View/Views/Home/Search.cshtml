@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    View.Controllers.HomeController context = new View.Controllers.HomeController();
}
@section scripts {
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/popper")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/mdb")
}
@model View.Models.MediaDTO


<div class="d-flex flex-center w-100">
    <div class="col-md-12 col-xl-5 mb-4 ">

        <!--Card-->
        <div class="card">

            <!--Card content-->
            <div class="card-body">

                <!-- Form -->
                <div class="text-center w-100">
                    <div id="showLoad">
                    </div>
                </div>
                <div id="formSubmitHide">
                    @using (Html.BeginForm("SearchMedia", "Home", FormMethod.Post))
                    {
                        <!-- Heading -->
                        <h3 class="dark-grey-text text-center">
                            <strong>Search For Media</strong>
                        </h3>
                        <hr>

                        <div class="md-form">
                            @Html.TextBoxFor(m => m.Title, null, new { placeholder = "Title", @class = "form-control w-100" })
                        </div>
                        <div class="md-form">
                            <select class="browser-default custom-select mb-4 genres" name="Genre">
                                <option value="" disabled="" selected="">Loading...</option>

                            </select>
                        </div>
                        <div class="md-form">
                            <select class="browser-default custom-select mb-4 directors" name="Director">
                                <option value="" disabled="" selected="">Loading...</option>

                            </select>
                        </div>
                        <div class="md-form">
                            <select class="browser-default custom-select mb-4 languages" name="Language">
                                <option value="" disabled="" selected="">Loading...</option>

                            </select>
                        </div>
                        <div class="md-form">
                            <input class="form-control w-100" name="Year" placeholder="Year" type="number" />
                        </div>
                        <div class="md-form">
                            <input class="form-control w-100" name="BudgetValue" placeholder="Budget ($)" type="number"/>
                        </div>


                        <div class="text-center">
                            <button type="submit" onclick="hideSearch();" class="btn btn-indigo" id="searchButton">Search</button>
                            <div class="loadIcon"></div>
                        </div>

                    }
                    <!-- Form -->
                </div>
            </div>

        </div>
        <!--/.Card-->

    </div>
</div>
<script>

    $(".loadIcon").hide();
    $(".loadIcon").html(`<img src="@Url.Content("~/img/load.gif")" style="width:100px; height:100px" />`);
    function hideSearch() {
        $(".loadIcon").show();
        $("#searchButton").hide();
    }

</script>